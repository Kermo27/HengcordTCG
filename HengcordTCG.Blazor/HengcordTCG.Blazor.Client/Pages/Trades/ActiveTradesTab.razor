@inject ToastService Toast

@if (IsLoading)
{
    <div class="space-y-4">
        @for (int i = 0; i < 3; i++)
        {
            <Skeleton class="h-32 rounded-lg" />
        }
    </div>
}
else if (!Trades.Any())
{
    <EmptyState 
        Icon="arrow-left-right"
        Title="No Active Trades"
        Description="There are no active trades at the moment. Be the first to create one!"
        ActionText="Create Trade"
        OnAction="OnCreateTrade" />
}
else
{
    <div class="space-y-4">
        @foreach (var trade in Trades)
        {
            <TradeCard 
                Trade="trade" 
                CurrentUserId="CurrentUserId"
                OnAccept="() => OnAcceptTrade.InvokeAsync(trade)"
                OnReject="() => OnRejectTrade.InvokeAsync(trade)" />
        }
    </div>
}

@code {
    [Parameter] public List<Trade> Trades { get; set; } = new();
    [Parameter] public ulong CurrentUserId { get; set; }
    [Parameter] public bool IsLoading { get; set; }
    [Parameter] public EventCallback OnCreateTrade { get; set; }
    [Parameter] public EventCallback<Trade> OnAcceptTrade { get; set; }
    [Parameter] public EventCallback<Trade> OnRejectTrade { get; set; }
}
