@page "/showcase/alerts"
@layout _ShowcaseLayout
@inject ToastService ToastService

<PageTitle>Alerts - Showcase</PageTitle>

<div class="space-y-8">
    <div>
        <h1 class="text-3xl font-bold tracking-tight">Alerts</h1>
        <p class="text-muted-foreground mt-2">
            Alert banners and toast notifications.
        </p>
    </div>

    <!-- Alert Variants -->
    <Card>
        <CardHeader>
            <CardTitle>Alert Variants</CardTitle>
            <CardDescription>Different alert styles for various contexts.</CardDescription>
        </CardHeader>
        <CardContent class="space-y-4">
            <Alert>
                <Icon>
                    <LucideIcon Name="terminal" Size="16" />
                </Icon>
                <ChildContent>
                    <AlertTitle>Default Alert</AlertTitle>
                    <AlertDescription>
                        This is a default alert. Use it for general information.
                    </AlertDescription>
                </ChildContent>
            </Alert>

            <Alert Variant="AlertVariant.Danger">
                <Icon>
                    <LucideIcon Name="circle-alert" Size="16" />
                </Icon>
                <ChildContent>
                    <AlertTitle>Error</AlertTitle>
                    <AlertDescription>
                        Your session has expired. Please log in again.
                    </AlertDescription>
                </ChildContent>
            </Alert>
        </CardContent>
    </Card>

    <!-- Alert Examples -->
    <Card>
        <CardHeader>
            <CardTitle>Alert Use Cases</CardTitle>
            <CardDescription>Common patterns for using alerts.</CardDescription>
        </CardHeader>
        <CardContent class="space-y-4">
            <Alert Variant="AlertVariant.Info">
                <Icon>
                    <LucideIcon Name="info" Size="16" />
                </Icon>
                <ChildContent>
                    <AlertTitle>Information</AlertTitle>
                    <AlertDescription>
                        A new version is available. Refresh to update.
                    </AlertDescription>
                </ChildContent>
            </Alert>

            <Alert Variant="AlertVariant.Success">
                <Icon>
                    <LucideIcon Name="circle-check" Size="16" />
                </Icon>
                <ChildContent>
                    <AlertTitle>Success</AlertTitle>
                    <AlertDescription>
                        Your changes have been saved successfully.
                    </AlertDescription>
                </ChildContent>
            </Alert>

            <Alert Variant="AlertVariant.Warning">
                <Icon>
                    <LucideIcon Name="triangle-alert" Size="16" />
                </Icon>
                <ChildContent>
                    <AlertTitle>Warning</AlertTitle>
                    <AlertDescription>
                        Your subscription will expire in 3 days.
                    </AlertDescription>
                </ChildContent>
            </Alert>
        </CardContent>
    </Card>

    <!-- Toast Notifications -->
    <Card>
        <CardHeader>
            <CardTitle>Toast Notifications</CardTitle>
            <CardDescription>Temporary notifications that appear and auto-dismiss.</CardDescription>
        </CardHeader>
        <CardContent>
            <div class="flex flex-wrap gap-4">
                <Button @onclick="ShowDefaultToast">
                    Default Toast
                </Button>
                <Button Variant="ButtonVariant.Secondary" @onclick="ShowSuccessToast">
                    <LucideIcon Name="check" Size="16" class="mr-2" />
                    Success Toast
                </Button>
                <Button Variant="ButtonVariant.Destructive" @onclick="ShowErrorToast">
                    <LucideIcon Name="x" Size="16" class="mr-2" />
                    Error Toast
                </Button>
            </div>
        </CardContent>
    </Card>

    <!-- Toast with Actions -->
    <Card>
        <CardHeader>
            <CardTitle>Toast with Actions</CardTitle>
            <CardDescription>Toasts can include action buttons.</CardDescription>
        </CardHeader>
        <CardContent>
            <div class="flex flex-wrap gap-4">
                <Button Variant="ButtonVariant.Outline" @onclick="ShowToastWithAction">
                    Toast with Action
                </Button>
                <Button Variant="ButtonVariant.Outline" @onclick="ShowPersistentToast">
                    Persistent Toast
                </Button>
            </div>
        </CardContent>
    </Card>
</div>

@code {
    private void ShowDefaultToast()
    {
        ToastService.Show("Event has been created", "Notification");
    }

    private void ShowSuccessToast()
    {
        ToastService.Success("Your changes have been saved successfully.", "Profile updated");
    }

    private void ShowErrorToast()
    {
        ToastService.Error("There was a problem with your request.", "Something went wrong");
    }

    private void ShowToastWithAction()
    {
        ToastService.Show(new ToastData
        {
            Title = "Undo Action",
            Description = "The item has been deleted.",
            ActionText = "Undo",
            OnAction = () => ToastService.Success("The item has been restored.", "Restored")
        });
    }

    private void ShowPersistentToast()
    {
        ToastService.Show(new ToastData
        {
            Title = "Downloading...",
            Description = "Your file is being prepared for download.",
            Duration = 0 // 0 means it won't auto-dismiss
        });
    }
}
